# 의료정보분석개론 - 통합 강의자료

**강의교재**: 의료정보관리학 제3판, 박종선외, 보문각, 2017

---

## 목차

1. [의료데이터베이스 개요](#1강-의료데이터베이스-개요)
2. [데이터베이스 모델](#2강-데이터베이스-모델)
3. [데이터베이스시스템 구성](#3강-데이터베이스시스템-구성)
4. [데이터모델링 및 데이터베이스 설계](#4강-데이터모델링-및-데이터베이스-설계)

---

# 1강. 의료데이터베이스 개요

## 1. 데이터베이스의 개념

### 보건의료에서의 데이터
- 모든 의사결정에서 중심적인 역할
- 신뢰할 수 있고, 완전하며 구조화가 잘 되어야 함

### 병원정보시스템에서의 데이터베이스
- 처방전, 진료내역, 진료비, 약품, 의료소모품 등 다양한 구조를 가진 자료를 통합하여 저장하고 관리
- 자료의 종류에 따라 장기간 저장이 필요
- 임상연구/의사결정 자료 및 의학영상자료 저장 및 필요시 즉시 추출

### 데이터베이스의 정의
내용을 쉽게 접근하여 처리하고 갱신할 수 있도록 구성된 데이터의 집합체

### 파일 시스템 vs 데이터베이스 관리시스템

#### 파일 (File)
- 데이터 저장의 실체
- 컴퓨터의 파일시스템에 따라 생성되고 삭제됨
- 파일이름을 통해 파일의 접근이 가능함

#### 파일시스템 (File System)
- 각각의 파일 단위로 업무와 관련한 데이터를 저장
- 파일들을 처리하기 위한 독립적인 어플리케이션과 상호연동
- **단점**: 데이터 중복성과 데이터 종속성이 발생

#### 데이터베이스관리시스템 (DBMS)
- 파일시스템의 단점을 극복하고 데이터를 효율적으로 관리
- 사용자 어플리케이션과 데이터베이스 간의 인터페이스 역할을 하는 논리적인 프로그램

### 데이터베이스의 발전배경

#### 요구사항
- 환자 신상명세에 대한 사항뿐만 아니라 각 진료부서의 인적구성, 부서별 환자, 환자에 대한 데이터, 약품정보 등 수많은 데이터를 관리

#### 문제점
- 기록의 중복 및 기록양식의 상이함
- 검색 및 수정의 어려움으로 효율적인 업무추진에 많은 지장을 초래
- 데이터양의 관리의 어려움
- 조직의 규모가 커짐에 따라 파일시스템으로는 감당이 어려움

### DBMS의 규모 및 종류
- **과거**: 대형 메인프레임에 적용
- **현재**: 소형 분산워크스테이션, 중형시스템, PC에도 사용
- **DBMS 종류**: Oracle, Sybase, Informix, DB2, MS-SQL, Access 등
- **구조화된 질의언어 (SQL)**: Structured Query Language를 이용하여 데이터를 검색 및 갱신

## 2. 데이터베이스의 정의

### 데이터베이스 (Database)
컴퓨터에서 신속한 탐색과 검색을 위해 특별히 조직된 정보집합체

현실세계 데이터를 통합하는 관점에서 서로 관련된 정보의 중복을 최소화하여 하나의 저장공간에 기록하고, 다수의 사용자로 하여금 필요한 정보를 공유하도록 하는 정보의 집합체

어느 특정조직체에 관련된 여러 정보들을 공유할 수 있도록 통합, 저장된 운영 데이터의 집합

### 데이터베이스의 특성
- **통합데이터**: 동일 데이터의 중복을 배제하여 중복의 최소화
- **저장데이터**: 컴퓨터가 접근할 수 있는 저장매체에 저장된 데이터의 집합
- **운영데이터**: 조직의 존재목적, 유용성면에서 필요한 데이터의 집합
- **공용데이터**: 여러 응용프로그램이 공동으로 소유, 유지가능한 데이터

## 3. 데이터베이스의 목적

| 구분 | 의미 |
|------|------|
| **데이터의 독립성** | • 논리적 독립성: 데이터베이스의 논리적구조 변경이 응용프로그램에 영향을 미치지 않는 성질<br>• 물리적 독립성: 데이터베이스의 물리적구조 변경이 데이터베이스의 논리적구조나 응용프로그램에 영향을 주지 않는 성질 |
| **중복성의 최소화** | 동일한 데이터가 여러 파일에 나누어 저장되는 경우를 없앨 수 있다. 따라서 데이터의 집중관리가 가능하며 저장경비가 절감된다. |
| **데이터의 공유성** | 여러 응용프로그램이 데이터베이스 내의 데이터를 공동사용하며, 신규프로그램도 기존의 데이터를 활용할 수 있다. |
| **데이터의 보안성** | 사고로부터 안전을 보장할 수 있으며 비밀의 유지가 가능하다. |
| **데이터의 무결성** | 중앙통제에 의한 갱신과 검증프로그램의 운용으로 여러 파일의 데이터가 서로 일치하지 않는 현상인 데이터의 불일치를 없앨 수 있다. 즉, 무결성을 보장할 수 있다. |

## 4. 데이터베이스의 특징

### 장점
- 데이터의 다중이용기능
- 파일수정의 융통성 확보
- 데이터관리의 용이성
- 내용에 의한 데이터의 액세스

### 단점
- 전산화비용의 증가와 시스템의 복잡화
- 프로그래머의 재교육이 필요하게 되고 패키지 운용요원이 필요
- 병원 내 하드웨어와 소프트웨어의 추가구입 및 운용비용이 증가
- 데이터의 집중관리로 데이터 백업비용이 증가

## 5. 데이터베이스의 구성

| 요소 | 의미 |
|------|------|
| **데이터** | 환자, 질병, 진단 또는 다른 어떤 것에 관한 있는 그대로의 사실을 의미한다. 병원은 매일매일 엄청난 양의 데이터를 환자나 병원조직에서부터 발생되는데 가공되지 않은 데이터를 말한다. |
| **하드웨어** | 데이터베이스가 물리적으로 저장될 저장장치, 저장장치와 연결된 입출력장치, 장치제어기, 그리고 입출력채널 등을 들 수 있다. |
| **소프트웨어** | 물리적 데이터베이스와 사용자를 연결시켜 주는 소프트웨어를 데이터베이스관리시스템(DBMS)이라고 한다. 이 시스템은 데이터의 관리에 대한 대부분의 사항을 효율적으로 지원해준다. |
| **사용자** | 개인사용자나 규모가 작은 업체의 경우에는 한명의 사용자가 직접 데이터베이스를 설계하고 구축, 그러나 대형의 데이터베이스를 설계하고, 구축하여 사용하는 데는 응용프로그래머와 같은 다수의 사람들이 관여하게 된다. |

---

# 2강. 데이터베이스 모델

## 1. 관계형모델

### 관계형모델의 개념
개체의 집합과 개체집합 사이 특성연관성 및 다양한 관계를 잘 파악하여 표현한 모델

- 동일한 개체집합들 간의 하나 이상의 관계가 성립
- 관계에는 반드시 고유의 명칭을 사용하여 다른 관계들과 식별

### 기본 용어

| 용어 | 의미 | 예시 |
|------|------|------|
| **개체(entity)** | 데이터베이스에 저장될 실세계의 개체나 개념 | 의사, 환자 |
| **속성(attribute)** | 개체의 특성을 표현 | 의사번호, 이름, 주민등록번호, 성별, 주소 |
| **관계(relationship)** | 두 개의 개체들 사이의 연관성 | 담당의사 |

### 기본 데이터구조
- **관계(Relation)**: 2차원 테이블(Table) 구조
- **행**: 튜플(Tuple) - 파일시스템의 레코드(Record)와 유사
- **열**: 속성(Attribute) - 파일시스템의 필드(Field)와 유사
- 단순하고 데이터구조가 일정한 형식적 특성을 가짐

### 관계형모델의 용어 정리

| 관계형모델 용어 | 파일시스템 용어 | 의미 |
|----------------|----------------|------|
| **릴레이션(Relation)** | 파일(File) | 2차원 테이블 |
| **튜플(Tuple)** | 레코드(Record) | 테이블에서의 행 |
| **속성(Attribute)** | 필드(Field) | 테이블에서의 열 |
| **도메인(Domain)** | - | 속성이 가지는 값의 범위(집합) |

### 관계형모델의 표현
- 한 레코드에 저장된 데이터가 다른 레코드 데이터를 참조할 수 있음
- 다른 레코드 데이터를 참조시 외래키를 사용함

### 관계형모델의 장단점

#### 장점
1. 데이터의 독립성과 구조적 독립성을 지원한다
2. 구조가 단순하며 사용이 편리하다
3. 데이터의 다대다(n:m) 관계를 표현할 수 있다
4. 데이터베이스 설계와 관리가 다른 모델보다 편리하다
5. 다른 데이터베이스로 변환이 쉽다

#### 단점
1. 다른 모델에 비해 DBMS 성능이 떨어진다
2. 데이터 종속성과 구조적 종속성, 강력한 질의처리 등을 해결하기 위해 H/W와 OS 등에 부담이 따른다
3. 장애발생시 회복과정이 복잡하다

## 2. 계층형모델

### 계층형모델의 특징
- 링크를 사용하여 자료와 자료 사이의 관계성을 표시
- 각 레코드가 계층적 관계인 트리형태로 표현
- 몇 개의 자노드와 하나의 부노드를 가짐
- 데이터 관계는 속성과 개체관계를 가짐

### 계층형모델의 장단점
- **장점**: 이해하기 쉬움(조직도와 유사)
- **단점**: 구조제약(다중부노드 불가 등)

## 3. 네트워크형 모델

### 네트워크형 모델의 특징
- 계층형모델을 확장하여 서로 관련있는 세그먼트들을 그물처럼 연결하여 전체구조를 하나의 망처럼 구성
- 각 집합은 오너레코드와 멤버레코드의 주종관계로 표현

### 네트워크형 모델의 장단점

#### 장점
- 다양한 검색 가능
- 데이터 접근과 유연성이 계층모델보다 우수

#### 단점
- 프로그램 작성이 복잡
- 데이터의 독립성을 유지하기 어려움
- 데이터베이스 구조변경시 관련된 모든 응용프로그램 수정 필요

---

# 3강. 데이터베이스시스템 구성

## 데이터베이스 시스템의 구성요소

### 1. 스키마 (Schema)
데이터베이스의 구조를 명시한 것

### 2. 데이터베이스
데이터의 집합

### 3. 데이터베이스 언어(Language)
데이터베이스를 정의하고 접근/조회하는 수단

### 4. 데이터베이스관리시스템 (DBMS)
데이터베이스의 관리에 대한 책임을 가지는 소프트웨어

### 5. 데이터베이스 사용자 (User)

## 1. 스키마

### 스키마 (Schema)의 정의
- 데이터베이스의 논리적 구조를 전체적으로 명시한 것
- 개체 사이의 속성, 개체관계, 데이터구조, 조작방법, 데이터값들이 갖는 제약조건 등에 대한 정의를 포함
- 데이터베이스를 구성하는 필드, 레코드, 관계 등 데이터베이스의 전체적인 설계

### 데이터베이스의 스키마 구조

#### 외부스키마 (External Schema)
- 특정 응용에 국한된 논리적 데이터구조

#### 개념스키마 (Conceptual Schema)
- 데이터베이스 전체의 논리구조
- 조직 전체에 단 하나만 존재

#### 내부스키마 (Internal Schema)
- 물리적 저장장치 입장에서의 데이터베이스 구조

## 2. 데이터베이스 언어

### 데이터베이스 언어의 정의
데이터베이스를 정의하고 액세스하는 수단을 의미

가장 많이 쓰이는 언어는 **SQL(Structured Query Language)**이며, DDL, DML, Query Language, DCL을 모두 포함

### 데이터베이스 언어의 종류

| 구분 | 의미 |
|------|------|
| **데이터정의어(DDL: Data Definition Language)** | DB를 구축하는데 필요한 매크로(macro)와 특수명령어로 구성된 독립된 언어 |
| **데이터조작어(DML: Data Manipulation Language)** | 데이터 서브언어라고도 부르며, 응용프로그램이 데이터베이스의 데이터를 사용자에게 제공하기 위한 조작방법 등을 제공 |
| **질의어(Query Language)** | 단말사용자가 데이터베이스 파일과 범용프로그래밍 언어를 정확히 알지 못하므로, 사용가능한 자연어로 구성되어 대화식으로 데이터베이스를 쉽게 이용하도록 만든 언어 |
| **데이터제어언어(DCL: Data Control Language)** | 데이터제어를 정의하고 기술하는 언어 |

## 3. 데이터베이스관리시스템

### DBMS의 정의
- 데이터베이스의 구성, 접근방법, 유지관리의 책임을 지는 S/W
- 사용자가 데이터파일들을 물리적으로 구현하지 못하도록 보호
- 저장, 검색, 관리를 용이하게 할 수 있도록 운영체제와 독립적인 인터페이스 제공

### DBMS의 기능
- **정의기능**: 데이터베이스 구조를 정의
- **조작기능**: 데이터의 검색, 삽입, 삭제, 갱신 등의 작업을 지원
- **제어기능**: 내용을 정확, 안전하게 유지하는 기능

### DBMS vs 파일시스템

| DBMS | 파일시스템 |
|------|-----------|
| • 데이터모델/조작<br>• 데이터공유<br>• 동시성제어<br>• 장애복구<br>• 보안성<br>• 확장성 | • 파일은 디스크에 데이터/코드/텍스트 등을 저장하는 단위<br>• 파일시스템은 운영체제(OS)가 기능을 담당<br>• 모든 데이터베이스는 파일형태로 디스크에 저장<br>• DBMS를 사용하지 않고 응용프로그램에서 직접 데이터베이스를 관리 |

### 상용 DBMS의 종류
- 네트워크형, 계층형, 관계형, 객체지향형 등
- **관계형(Relational DBMS)**가 가장 많이 쓰임

#### 주요 DBMS 솔루션
- **Oracle**: 전세계에서 가장 많이 사용되는 DBMS
- **MS-SQL**: 마이크로소프트에서 개발 및 공급
- **Access**: 마이크로소프트 오피스에 탑재된 개인용 데이터베이스
- **MySQL**: 리눅스 운영체제에서 동작하는 무료 DBMS
- **기타**: DB2, Sybase, Informix 등

## 4. 데이터베이스 사용자

### 데이터베이스 사용자의 정의
데이터베이스를 이용하기 위해 접근하는 모든 사람

### 사용자 분류
- 데이터베이스 관리자
- 최종사용자
- 응용프로그래머

### 최종사용자의 종류
- **초보사용자**: 메뉴나 GUI형태의 응용프로그램을 통해 데이터베이스를 사용
- **캐주얼사용자**: 데이터베이스 이론적 지식, 데이터조작어를 이용하여 데이터에 대한 처리를 DBMS에 직접 요구

---

# 4강. 데이터모델링 및 데이터베이스 설계

## 1. 데이터모델링 개념

### 데이터모델링의 순서
현실세계를 물리적 데이터로 표현하는 과정

1. **정보모델링**: 현실세계를 추상적 개념으로 표현
2. **데이터모델링**: (컴퓨터가 이해하는) 논리적 데이터구조로 변환
3. **데이터구조화**: 저장장치 내에 데이터를 표현하기 위한 물리적 구조로 변환

### 데이터모델링의 의미

| 구분 | 의미 | 결과물 |
|------|------|--------|
| **정보모델링(개념적모델링)** | 현실세계의 실체를 데이터베이스로 저장하기 위해서 개념세계의 개체로 추상화하는 과정을 의미하며, 이 과정에서 얻은 결과를 정보구조라 한다. | 개념적데이터모델 |
| **데이터모델링(논리적모델링)** | 정보모델링에서 생성된 정보구조를 DBMS가 이해할 수 있는 논리적인 데이터구조로 변환하는 과정을 의미한다. | 논리적데이터모델 |
| **데이터구조화(물리적모델링)** | 논리적 데이터구조를 컴퓨터에 저장하도록 물리적 데이터구조로 변환하는 과정부터 구조화라 한다. | 물리적데이터모델 |

### 현실세계와 데이터베이스의 관계
물리적 데이터구조(저장데이터베이스)는 현실세계를 제대로 표현해야 함

## 2. 데이터모델 분류

### 데이터모델의 정의
현실세계를 추상적(개념적)/논리적/물리적으로 표현한 결과물

### 데이터모델의 세 가지 구성요소

| 구분 | 의미 |
|------|------|
| **구조** | • 논리적으로 표현된 데이터구조(structure)<br>• 데이터베이스에 표현될 대상으로서의 개체타입과 개체타입들 간의 관계(relationship)를 기술한 것<br>[예] "의사와환자" 개체타입 간의 담당의사라는 관계 |
| **연산** | • 구조에서 허용될 수 있는 연산(operation)<br>• 데이터베이스에 표현될 개체인스턴스(instance)를 처리하는 작업에 대한 명세로서 데이터베이스를 조작하는 기본도구 |
| **제약조건** | • 구조와 연산에서의 제약조건(constraints)<br>• 데이터베이스에 허용될 수 있는 개체인스턴스에 대한 논리적인 제약사항을 의미<br>• 데이터조작에 대한 한계를 규정 |

### 모델의 구성요소에 따른 구분

#### 개념적 데이터모델(Conceptual data model)
- 정보모델링(개념적모델링)의 결과물
- 추상적 개념을 포함

#### 논리적 데이터모델(Logical data model)
- 데이터모델링(논리적모델링)의 결과물
- 논리적 개념을 포함

#### 물리적 데이터모델(Physical data model)
- 데이터구조화(물리적모델링)의 결과물
- 물리적 개념을 포함

### 개념적 데이터모델

#### 특징
- 개체와 개체들 간의 관계를 이용하여 현실세계를 표현하는 방법
- 현실세계에 존재하는 실체(Reality)의 의미로부터 개념으로 표현한 개념세계로 사용자가 데이터를 인식하는 방식에 대한 개념을 제공

#### 대표적 데이터모델: 개체-관계모델(Entity-Relationship Model, E-R Model)
- 개체와 이들 간의 관계를 시각적으로 표현한 방법
- **개체**: 사각형
- **관계**: 다이아몬드
- **속성**: 타원

### 논리적 데이터모델

#### E-R 다이어그램과의 관계
- **E-R 다이어그램**: 현실세계를 사람들이 이해할 수 있도록 표현한 개념적 구조
- **논리적 데이터모델**: 개념적 구조를 저장데이터베이스에 구현하기 위한 중간단계로서 사용자의 입장에서 표현한 논리구조

#### 특징
- 실제 물리적 저장장치 위에 저장될 데이터베이스 구조를 사용자 입장에서 표현한 구조
- 개념적 모델을 데이터베이스의 논리적 구조로 표현한 것
- **종류**: 관계형데이터모델, 네트워크형 데이터모델, 계층형데이터모델 등

### 물리적 데이터모델
레코드 형식, 순서, 접근경로 등과 같이 컴퓨터에 데이터를 저장하기 위한 세부사항을 명시하는 모델

## 3. 데이터베이스 설계

### 데이터베이스 설계의 개념
사용자의 요구사항으로부터 데이터베이스의 논리적·물리적 구조를 만들어내는 일련의 과정

### 설계 순서
요구조건 분석 → 개념적/논리적/물리적 설계 → 구현

### 설계시의 고려사항
- **데이터의 일관성(Consistency)**
- **효율성(Efficiency)**
- **회복(Recovery)**
- **무결성(Integrity)**
- **보안(Security)**
- **확장성(Expansibility)**

### 데이터베이스 설계 단계

#### 1) 요구조건 분석
- 사용자로부터 요구사항을 받아 분석하는 과정
- 사용자의 요구조건을 수집하고 분석하여 사용자가 원하는 데이터베이스의 용도를 파악하는 과정
- **결과물**: 요구조건명세서(요구사항명세서)

##### 요구조건의 내용
1. 정보처리 요구조건의 수립
2. 경영목표와 제약조건 식별
3. 요구조건명세서 작성
4. 요구조건명세서 기법 검토

#### 2) 개념적 설계
- 요구조건 분석단계에서 생성되는 명세서를 바탕으로 특정 DBMS에 독립적인 표현으로 전체 데이터베이스의 구조를 개념적으로 설계하는 단계
- 요구조건 분석명세서를 바탕으로 개념을 개체-관계모델로 표현
- **결과물**: 개념적데이터모델

#### 3) 논리적 설계
- 특정 목표 DBMS가 처리할 수 있는 데이터베이스 스키마를 생성
- 개념스키마에 대해 관계형데이터모델, 계층형데이터모델 등 중 하나를 결정하여 맵핑(Mapping), 변환 수행
- 스키마의 데이터량, 처리빈도수, 작업량, 데이터전송량 등을 평가

##### 논리적 설계의 3가지 세부단계

| 단계 | 단계명 | 의미 |
|------|--------|------|
| **1단계** | 논리적데이터모델 변환 | 개념적설계단계에서 생성된 DBMS에 독립적인 개념스키마, 즉 정보구조를 목표 DBMS에 맞는 논리적데이터모델로 변환 |
| **2단계** | 트랜잭션 인터페이스 설계 | 입출력과 기능적 형태만 정의된 트랜잭션 즉 응용프로그램에 대한 인터페이스를 설계 |
| **3단계** | 스키마평가 및 정제 | 설계된 스키마를 평가하고 정제하는 것이다. 설계된 스키마를 정량적 정보와 성능평가 기준에 따라 평가해본다. |

#### 4) 물리적 설계
- 효율적으로 구현가능한 물리데이터베이스 스키마를 설계
- 사용자의 처리요구조건을 만족시키기 위해 내부저장구조와 접근경로 등을 설계
- 레코드의 크기, 양, 증가율을 고려하여 물리적으로 집중되도록 설계
- 응답시간, 저장공간의 효율화, 트랜잭션 처리능력들을 고려

##### 물리적 설계의 3가지 세부단계

| 단계 | 단계명 | 의미 |
|------|--------|------|
| **1단계** | 저장레코드 양식설계 | 데이터의 타입, 데이터값의 분포, 사용될 응용, 접근빈도들을 고려하여 결정 |
| **2단계** | 레코드집중분석 및 설계 | 레코드집중은 저장공간에 레코드들이 물리적으로 집중저장되도록 할당하여 물리적 순차성을 이용할 수 있도록 하는 것을 의미 |
| **3단계** | 접근경로설계 | 접근경로는 물리적저장장치 위에 저장된 데이터의 검색과 조장을 가능하게 하는데, 저장구조와 탐색기법이 기본요소가 된다. |

#### 5) 데이터베이스 구현
- 데이터베이스 구조가 컴퓨터 내에서 정의되고 구현된 후 실제 데이터가 적재되는 단계

##### 구현 과정
1. **데이터베이스 구조의 구현**
   - 논리적 단계에서 결정한 목표 DBMS의 데이터정의어(DDL)에 의해서 정의

2. **데이터의 적재(Loading)**
   - 기존의 데이터파일로부터 변환시켜 적재
   - 오퍼레이터에 의해서 수동으로 적재
   - 적재 이후부터 사용자에 의해 사용가능(DML-SQL)

3. **데이터베이스 운영**
   - 데이터의 적재 후 데이터베이스의 사용이 가능
   - 데이터베이스의 운영단계로 전환
   - 데이터베이스 트랜잭션의 수행을 위한 응용프로그램의 작성

---

## 전체 요약

### 주요 개념 정리

#### 1강 - 의료데이터베이스 개요
- **데이터베이스**: 통합데이터, 저장데이터, 운영데이터, 공용데이터
- **목적**: 독립성, 중복최소화, 공유성, 보안성, 무결성
- **특징**: 다중이용, 수정의 융통성, 관리의 용이성, 전산화비용 문제
- **구성**: 데이터, 하드웨어, 소프트웨어, 사용자

#### 2강 - 데이터베이스 모델
- **관계형모델**: 개체(Entity), 속성(Attribute), 관계(Relation)로 표현
- **데이터구조**: 관계(2차원테이블), 튜플(행), 속성(열)
- **기타모델**: 계층형모델(계층적관계), 네트워크형모델(그물형 연결)

#### 3강 - 데이터베이스시스템 구성
- **스키마**: 외부스키마, 개념스키마, 내부스키마
- **데이터베이스 언어**: DDL, DML, 질의어, 제어언어(SQL)
- **DBMS**: 정의기능, 조작기능, 제어기능

#### 4강 - 데이터모델링 및 데이터베이스 설계
- **데이터모델링**: 정보모델링(개념적) → 데이터모델링(논리적) → 데이터구조화(물리적)
- **데이터모델**: 개념적(E-R모델), 논리적(관계형모델 등), 물리적(저장구조)
- **설계과정**: 요구조건분석 → 개념적설계 → 논리적설계 → 물리적설계 → 구현

---

**참고문헌**: 의료정보관리학 제3판, 박종선외, 보문각, 2017 